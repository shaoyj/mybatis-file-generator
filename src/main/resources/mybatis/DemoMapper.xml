<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mybatisUtils.DemoMapper">
    <resultMap id="baseResultMap" type="mybatisUtils.DemoDO"/>
    <sql id="Base_Column_List">
		
	</sql>
    <sql id="condition">
        <if test="data!=null"/>
    </sql>
    <sql id="setField">
        <set/>
    </sql>
    <insert id="add" parameterType="mybatisUtils.DemoDO">
		insert into demo
 		<include refid="setField"/>
	</insert>
    <delete id="remove">
		DELETE FROM demo
 		WHERE id = #{id}
	</delete>
    <update id="update" parameterType="mybatisUtils.DemoDO">
		update demo
 		<include refid="setField"/> 
		WHERE id = #{id}
	</update>
    <select id="findById" parameterType="Long" resultMap="baseResultMap">
		SELECT
			<include refid="Base_Column_List"/>
		FROM 
			demo 
		WHERE id=#{id}  
		limit 1 
	</select>
    <select id="findByIdList" resultMap="baseResultMap">
		SELECT
			<include refid="Base_Column_List"/>
		FROM 
			demo
		WHERE id in
		<foreach close=")" collection="idList" item="itemId" open="(" separator=",">
			#{itemId}
		</foreach>
	</select>
    <select id="count" resultType="Long">
		SELECT
			count(*) as total
		FROM 
			demo
		WHERE 1=1
		<include refid="condition"/>
	</select>
    <select id="queryPage" resultMap="baseResultMap">
		SELECT
			<include refid="Base_Column_List"/>
		FROM 
			demo
		WHERE 1=1
		<include refid="condition"/>
		limit #{left},#{pageSize}
	</select>
</mapper>
